<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FocusFuel</title>
<style>
body{margin:0;font-family:-apple-system;background:#111827;color:white;
display:flex;justify-content:center;align-items:center;height:100vh}
.card{background:#1f2937;padding:24px;border-radius:18px;
width:90%;max-width:360px;text-align:center}
button{background:#22c55e;border:none;color:#000;padding:14px;
border-radius:12px;font-size:16px;width:100%;margin-top:12px}
input{width:100%;padding:12px;border-radius:8px;border:none;
font-size:18px;text-align:center;margin-top:12px}
.small{opacity:.8;font-size:13px}
.hidden{display:none}
</style>
</head>
<body>

<div class="card" id="home">
<h1>FocusFuel</h1>
<p>You have <span id="sessions"></span> sessions today</p>
<p class="small">Streak: <span id="streak"></span> ðŸ”¥</p>
<button onclick="start()">Start 60-Second Focus</button>
</div>

<div class="card hidden" id="game">
<p id="prompt"></p>
<input id="answer" placeholder="Answer">
<p id="timer"></p>
</div>

<div class="card hidden" id="done">
<h2>Nice work ðŸ§ </h2>
<p>Dopamine earned. Come back later.</p>
</div>

<script>
let sessions=parseInt(localStorage.getItem("sessions")||"3");
let streak=parseInt(localStorage.getItem("streak")||"0");

const games=[
{q:"2 4 8 ?",a:"16"},
{q:"A C E ?",a:"G"},
{q:"5 10 20 ?",a:"40"}
];

function refresh(){
document.getElementById("sessions").innerText=sessions;
document.getElementById("streak").innerText=streak;
}
refresh();

function start(){
if(sessions<=0){alert("No sessions left today");return;}
sessions--;localStorage.setItem("sessions",sessions);
document.getElementById("home").classList.add("hidden");
document.getElementById("game").classList.remove("hidden");

let g=games[Math.floor(Math.random()*games.length)];
document.getElementById("prompt").innerText=g.q;

let t=60;
let timer=setInterval(()=>{
document.getElementById("timer").innerText=t+"s";
t--;
if(t<0){clearInterval(timer);end(false);}
},1000);

document.getElementById("answer").onchange=e=>{
if(e.target.value.trim()===g.a){
clearInterval(timer);end(true);
}};
}

function end(win){
if(win){streak++;localStorage.setItem("streak",streak);}
document.getElementById("game").classList.add("hidden");
document.getElementById("done").classList.remove("hidden");
setTimeout(()=>location.reload(),2500);
}
</script>

</body>
</html>
